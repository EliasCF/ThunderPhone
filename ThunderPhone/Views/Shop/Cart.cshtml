@{
    ViewData["Title"] = "Cart";
}

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="~/js/shop-cart.js"></script>
}

@section Styles {
    <link rel="stylesheet" href="~/css/shop-cart.css" />
}

<div class="container-fluid text-center" id="CartApp">
    <div v-if="items.length === 0">
        <h1>Indkøbskurven er tom!</h1>
    </div>
    <div v-else class="card mb-5" v-for="(item, index) in items" :key="item.id">
        <div class="card-body product-card">
            <div class="row">
                <div class="col mb-3">
                    <div class="text-left">
                        <a v-on:click="removeItem(item.productId)" style="cursor: pointer;">X</a>
                    </div>
                    <p>Antal:</p>
                    <input type="number" v-model="itemAmounts[index]" v-on:change="editItemAmount(item.productId, itemAmounts[index])" />
                </div>
                <div class="col mb-3">
                    <img :src="item.images[0].imagePath" alt="ProductImage" width="200" height="200" />
                </div>
                <div class="col mb-3">
                    <div class="row h-100">
                        <div class="col-sm-12 my-auto">
                            <div class="card card-block product-card" style="border: none;">
                                <h3>{{item.name}}</h3>
                                <h5 class="text-muted">{{item.price}} kr,-</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col mb-3">
                    <div class="row h-100">
                        <div class="col-sm-12 my-auto">
                            <div class="card card-block product-card" style="border: none;">
                                <h5 class="text-muted"><strong>Brand: </strong>{{item.brand.brand}}</h5>
                                <h5 class=" text-muted"><strong>Kategori: </strong>{{item.category.category}}</h5>
                                <h6 class="text-muted"><strong>Farve: </strong>{{item.color.color}}</h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>